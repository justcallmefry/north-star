@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  font-size: 18px;
  overflow-x: hidden;
  overflow-y: scroll;
  -webkit-overflow-scrolling: touch;
  /* Prevent any horizontal overscroll/bounce on mobile */
  overscroll-behavior-x: none;
  width: 100%;
  max-width: 100vw;
  position: relative;
}

@media (min-width: 768px) {
  html {
    font-size: 19px;
  }
}

body {
  margin: 0;
  min-height: 100vh;
  line-height: 1.6;
  overflow-x: hidden;
  max-width: 100vw;
  width: 100%;
  touch-action: pan-y;
  overscroll-behavior-x: none;
  overflow-y: auto;
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  opacity: 0;
  animation: fade-in-up 700ms ease-out forwards;
}

.animate-delay-1 {
  animation-delay: 120ms;
}

.animate-delay-2 {
  animation-delay: 220ms;
}

.animate-delay-3 {
  animation-delay: 320ms;
}

/* Calm moments: fade + slight vertical ease only, no bounce/scale */
@keyframes calm-fade-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-calm-fade-in {
  opacity: 0;
  animation: calm-fade-in 800ms ease-out forwards;
}

.animate-calm-delay-1 {
  animation-delay: 180ms;
}

.animate-calm-delay-2 {
  animation-delay: 320ms;
}

.animate-calm-delay-header {
  animation-delay: 400ms;
}

/* Quick, gentle screen fade — no bounce/scale, just ease (e.g. home) */
@keyframes fade-in-ease {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-ease {
  opacity: 0;
  animation: fade-in-ease 280ms ease-out forwards;
}

/* Loading: gentle spin so it’s obvious the app is working */
@keyframes loading-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-loading-spin {
  animation: loading-spin 0.9s linear infinite;
}

/* Quiz/agreement: card exit (disappear) then next card enters */
@keyframes quiz-card-exit {
  to {
    opacity: 0;
    transform: translateY(-12px) scale(0.98);
  }
}
@keyframes quiz-card-enter {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.animate-quiz-card-exit {
  animation: quiz-card-exit 280ms ease-in forwards;
}
.animate-quiz-card-enter {
  opacity: 0;
  animation: quiz-card-enter 350ms ease-out forwards;
}

/* Focus rings: visible for keyboard navigation */
@layer base {
  :where(button:focus-visible, [role="button"]:focus-visible, a:focus-visible) {
    @apply outline-none ring-2 ring-brand-400 ring-offset-2 ring-offset-white;
  }
}

/* Visual anchor: card, buttons, spacing. Gradients, glowy blue shadows, optional accent. */
@layer components {
  .ns-card {
    @apply rounded-2xl border border-brand-100/80 bg-white p-5;
    box-shadow: 0 4px 6px -1px rgb(251 207 232 / 0.2), 0 2px 4px -2px rgb(251 207 232 / 0.15);
  }
  .ns-card-inner {
    @apply rounded-xl border border-slate-200 bg-slate-50 p-3;
  }
  .ns-btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-center text-base font-semibold uppercase tracking-wide text-white transition disabled:opacity-50 focus-visible:outline focus-visible:ring-2 focus-visible:ring-brand-400 focus-visible:ring-offset-2;
    background: linear-gradient(135deg, #2b8cbe 0%, #1e6b9e 100%);
    box-shadow: 0 2px 8px -2px rgb(43 140 190 / 0.4), 0 4px 12px -4px rgb(30 107 158 / 0.3);
  }
  .ns-btn-primary:hover:not(:disabled) {
    background: linear-gradient(135deg, #2479a8 0%, #1a5d85 100%);
    box-shadow: 0 4px 12px -2px rgb(43 140 190 / 0.45), 0 6px 16px -4px rgb(30 107 158 / 0.35);
  }
  .ns-btn-primary:active:not(:disabled) {
    transform: scale(0.98);
  }
  .ns-btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-center text-base font-medium uppercase tracking-wide text-slate-700 transition disabled:opacity-50 focus-visible:outline focus-visible:ring-2 focus-visible:ring-brand-400 focus-visible:ring-offset-2;
    border: 1px solid rgb(191 219 234);
    background: linear-gradient(180deg, rgb(255 255 255) 0%, rgb(240 249 253) 100%);
    box-shadow: 0 1px 3px rgb(43 140 190 / 0.1);
  }
  .ns-btn-secondary:hover:not(:disabled) {
    border-color: rgb(147 197 219);
    background: linear-gradient(180deg, rgb(248 252 254) 0%, rgb(224 242 250) 100%);
    box-shadow: 0 2px 6px rgb(43 140 190 / 0.15);
  }
  .ns-btn-secondary:active:not(:disabled) {
    transform: scale(0.98);
  }
  /* Accent CTA: same blue as primary (e.g. welcome Sign up) */
  .ns-btn-accent {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-center text-base font-semibold uppercase tracking-wide text-white transition disabled:opacity-50;
    background: linear-gradient(135deg, #2b8cbe 0%, #1e6b9e 100%);
    box-shadow: 0 2px 8px -2px rgb(43 140 190 / 0.4), 0 4px 12px -4px rgb(30 107 158 / 0.25);
  }
  .ns-btn-accent:hover:not(:disabled) {
    background: linear-gradient(135deg, #2479a8 0%, #1a5d85 100%);
    box-shadow: 0 4px 12px -2px rgb(43 140 190 / 0.5), 0 6px 16px -4px rgb(30 107 158 / 0.3);
  }
  .ns-btn-accent:active:not(:disabled) {
    transform: scale(0.98);
  }
  .ns-stack {
    @apply space-y-6;
  }
  .ns-stack-tight {
    @apply space-y-4;
  }
  /* Glowy blue shadow for cards/panels (use with border + bg as needed) */
  .ns-shadow-glow {
    box-shadow: 0 4px 6px -1px rgb(43 140 190 / 0.15), 0 2px 4px -2px rgb(43 140 190 / 0.1);
  }
}
